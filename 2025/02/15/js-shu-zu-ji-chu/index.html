<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="JS数组基础, 前端 JS HTML CSS Linux">
    <meta name="description" content="Looking up cases and codes occasionally is convenient, as it allows you to document your experiences and knowledge, enabling you to share and teach others. This process is akin to reviewing the knowledge and acquiring a more profound comprehension of it">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>JS数组基础 | Alan Work&#39;s Notes</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.3.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Alan Work&#39;s Notes</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Alan Work&#39;s Notes</div>
        <div class="logo-desc">
            
            Looking up cases and codes occasionally is convenient, as it allows you to document your experiences and knowledge, enabling you to share and teach others. This process is akin to reviewing the knowledge and acquiring a more profound comprehension of it
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/21.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">JS数组基础</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/JS/">
                                <span class="chip bg-color">JS</span>
                            </a>
                        
                            <a href="/tags/CSS/">
                                <span class="chip bg-color">CSS</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/web%E5%89%8D%E7%AB%AF/" class="post-category">
                                web前端
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2025-02-15
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2025-02-15
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    6.3k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    27 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <ul>
<li><p><a href="#_1">前言</a></p>
</li>
<li><p><a href="#_2">数组基础</a></p>
<ul>
<li><p><a href="#_3">简介</a></p>
</li>
<li><p><a href="#_4">属性</a></p>
</li>
<li><p><a href="#_5">基本操作</a></p>
<ul>
<li><a href="#_6">创建数组</a></li>
<li><a href="#_7">检测数组</a></li>
</ul>
</li>
<li><p><a href="#isarray-from-of">数组方法 isArray, from, of</a></p>
</li>
<li><p><a href="#_8">数组实例方法</a></p>
<ul>
<li><a href="#join">转换方法 join</a></li>
<li><a href="#push-pop">栈方法 push, pop</a></li>
<li><a href="#unshift-shift">队列方法 unshift, shift</a></li>
<li><a href="#reverse-sort">重排序方法 reverse, sort</a></li>
<li><a href="#concat-slice-splice-copywithin-fill">操作方法 concat, slice, splice, copyWithin, fill</a></li>
<li><a href="#indexof-lastindexof-includes">位置方法 indexOf, lastIndexOf, includes</a></li>
<li><a href="#every-some-filter-foreach-map-find-findindex-entries-keys-values">迭代方法 every, some, filter, forEach, map, find, findIndex, entries, keys, values</a></li>
<li><a href="#reduce-reduceright">归并方法 reduce, reduceRight</a></li>
</ul>
</li>
</ul>
</li>
<li><p><a href="#_9">数组常见问题练习</a></p>
<ul>
<li><p><a href="#_10">数组合并</a></p>
<ul>
<li><a href="#_11">多个一维数组合并</a></li>
<li><a href="#_12">多维（复合）数组合并成一维数组</a></li>
</ul>
</li>
<li><p><a href="#_13">数组去重</a></p>
<ul>
<li><a href="#_14">双重循环去重</a></li>
<li><a href="#_15">排序遍历去重</a></li>
<li><a href="#_16">对象键值对法</a></li>
<li><a href="#es6-set-map">使用 ES6 的 Set 和 Map 方法</a></li>
</ul>
</li>
<li><p><a href="#_17">数组随机排序</a></p>
<ul>
<li><a href="#_18">递归的方法</a></li>
<li><a href="#sort">使用数组 sort 方法对数组元素随机排序（效果不佳）</a></li>
<li><a href="#from-underscorejs">随机交换数组内的元素 (原理from underscore.js）</a></li>
<li><a href="#_19">随机从原数组抽取一个元素,加入到新数组</a></li>
</ul>
</li>
<li><p><a href="#_20">取数组中最大值最小值</a></p>
<ul>
<li><a href="#_21">遍历比较方法</a></li>
<li><a href="#_22">归并比较方法</a></li>
<li><a href="#mathmax-mathmin">利用 Math.max() 与 Math.min() 方法</a></li>
</ul>
</li>
<li><p><a href="#_23">将一个数按大小顺序插入数组并返回索引值</a></p>
<ul>
<li><a href="#push-sort-indexof">使用 push + sort + indexOf 方法</a></li>
<li><a href="#sort-findindex-splice">使用 sort + findIndex + splice 方法</a></li>
</ul>
</li>
<li><p><a href="#_24">从数组中寻找元素并删除元素</a></p>
<ul>
<li><a href="#arguments-indexof-filter">arguments + indexOf + filter 遍历判断法</a></li>
<li><a href="#slice-es6-set-filter">slice(或解构运算符) + es6 set + filter 方法</a></li>
</ul>
</li>
</ul>
</li>
<li><p><a href="#_25">引用列表</a></p>
</li>
</ul>
<h2 id="数组基础"><a href="#数组基础" class="headerlink" title="数组基础"></a><a href="#_2"></a>数组基础</h2><p>原文：<a target="_blank" rel="noopener" href="http://www.ferecord.com/lujs-array.html">http://www.ferecord.com/lujs-array.html</a></p>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a><a href="#_3"></a>简介</h3><p>数组是应用最广泛的数据存储结构。它被植入到大部分编程语言中。在 ECMAScript 中数组是非常常用的引用类型。</p>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a><a href="#_4"></a>属性</h3><p><code>length</code><br>length属性表示数组的长度，即其中元素的个数。<br>JavaScript数组的length属性是可变的，当length属性被设置得更大时，整个数组的状态事实上不会发生变化，仅仅是length属性变大；当length属性被设置得比原来小时，则原先数组中索引大于或等于length的元素的值全部被丢失。</p>
<p><code>prototype</code><br>返回对象类型原型的引用。prototype 属性是 object 共有的。<br>一般用来给数组实例添加方法。</p>
<p><code>constructor</code><br>表示创建对象的函数。<br>说明：constructor 属性是所有具有 prototype 的对象的成员。constructor 属性保存了对构造特定对象实例的函数的引用。</p>
<h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a><a href="#_5"></a>基本操作</h3><h4 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a><a href="#_6"></a>创建数组</h4><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678910</td>
<td>&#x2F;&#x2F; 数组实例的创建var arr &#x3D; []var arr &#x3D; new Array() &#x2F;&#x2F;创建一个空数组 []var arr &#x3D; new Array(5) &#x2F;&#x2F;创建一个length为5的数组 [undefined, undefined, undefined, undefined, undefined]var arr &#x3D; new Array(1,2,3,4,5) &#x2F;&#x2F;创建数组并赋值 [1,2,3,4,5] var arr &#x3D; Array.of(7);       &#x2F;&#x2F; 创建数组并赋值 [7]var arr &#x3D; Array.of(1, 2, 3); &#x2F;&#x2F; 创建数组并赋值 [1, 2, 3]</td>
</tr>
</tbody></table>
<h4 id="检测数组"><a href="#检测数组" class="headerlink" title="检测数组"></a><a href="#_7"></a>检测数组</h4><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678</td>
<td>&#x2F;&#x2F;判断一个对象是不是数组var arr &#x3D; []if(arr instanceof Array){} &#x2F;&#x2F; 方法一if(Object.prototype.toString.call(arr) &#x3D;&#x3D; ‘[object Array]’)}{} &#x2F;&#x2F; 方法二if(Array.isArray(arr)){} &#x2F;&#x2F;方法三if(arr.constructor &#x3D;&#x3D; Array){} &#x2F;&#x2F; 方法四</td>
</tr>
</tbody></table>
<h3 id="数组方法-isArray-from-of"><a href="#数组方法-isArray-from-of" class="headerlink" title="数组方法 isArray, from, of"></a><a href="#isarray-from-of"></a>数组方法 isArray, from, of</h3><p><code>Array.isArray(obj)</code><br>检测对象是否 Array ，是则返回true，否则为false。</p>
<p><code>Array.from(arrayLike, mapFn, thisArg)</code><br>该方法从一个类似数组或可迭代对象创建一个新的数组实例。参数 arrayLike 是想要转换成真实数组的类数组对象或可遍历对象。mapFn 是可选参数，如果指定了该参数，则最后生成的数组会经过该函数的加工处理后再返回。thisArg是可选参数，为执行 mapFn 函数时 this 的值。</p>
<p>所谓类似数组的对象，本质特征只有一点，即必须有length属性。因此，任何有length属性的对象，都可以通过Array.from方法转为数组。<br>实际应用中，常见的类似数组的对象是 DOM 操作返回的 NodeList 集合，以及函数内部的 arguments 对象。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678910111213141516</td>
<td>let arrayLike &#x3D; {    0: ‘a’,    1: ‘b’,    2: ‘c’,    length: 3}let arrayLike2 &#x3D; {length: 3}let str &#x3D; ‘abcd’ let newArray &#x3D; Array.from(arrayLike) &#x2F;&#x2F;[‘a’, ‘b’, ‘c’]let newArray2 &#x3D; Array.from(arrayLike, (v) &#x3D;&gt; v+’1’) &#x2F;&#x2F;[‘a1’, ‘b1’, ‘c1’]let newArray3 &#x3D; Array.from(arrayLike2) &#x2F;&#x2F; [undefined, undefined, undefined]let newArray4 &#x3D; Array.from(str) &#x2F;&#x2F; [‘a’, ‘b’, ‘c’, ‘d’]</td>
</tr>
</tbody></table>
<p><code>Array.of(item…)</code><br>该方法用于创建数组实例。该方法用于替代 Array() 或 new Array()。Array.of() 和 Array 构造函数之间的区别在于处理整数参数：Array.of(7) 创建一个具有单个元素 7 的数组，而 Array(7) 创建一个包含 7 个 undefined 元素的数组。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567</td>
<td>Array.of(7);       &#x2F;&#x2F; [7]Array.of(1, 2, 3); &#x2F;&#x2F; [1, 2, 3] Array(7);          &#x2F;&#x2F; [ , , , , , , ]Array(1, 2, 3);    &#x2F;&#x2F; [1, 2, 3]</td>
</tr>
</tbody></table>
<h3 id="数组实例方法"><a href="#数组实例方法" class="headerlink" title="数组实例方法"></a><a href="#_8"></a>数组实例方法</h3><h4 id="转换方法-join"><a href="#转换方法-join" class="headerlink" title="转换方法 join"></a><a href="#join"></a>转换方法 join</h4><p><code>arr.join(separator)</code><br>把数组构构造成字符串，它先把数组中的每个元素转换成字符串，然后再用 separator 分隔符把它们链接在一起，separator 分隔符默认是逗号 “,”，要想做到无间隔链接，可以使用空字符串作为 separator：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567</td>
<td>var arr &#x3D; [1,2,3,4,5]arr.join(‘|’) &#x2F;&#x2F;“1|2|3|4|5”arr.join(“”) &#x2F;&#x2F;12345 &#x2F;&#x2F;另所有对象有具有的 toLocaleString、toString、valueOf，可以看作是join的特殊用法，不常用</td>
</tr>
</tbody></table>
<h4 id="栈方法-push-pop"><a href="#栈方法-push-pop" class="headerlink" title="栈方法 push, pop"></a><a href="#push-pop"></a>栈方法 push, pop</h4><p><code>arr.push(item…)</code><br>将一个或多个新元素添加到数组结尾，并返回数组新长度。</p>
<p><code>arr.pop()</code><br>移除最后一个元素并返回该元素值。</p>
<h4 id="队列方法-unshift-shift"><a href="#队列方法-unshift-shift" class="headerlink" title="队列方法 unshift, shift"></a><a href="#unshift-shift"></a>队列方法 unshift, shift</h4><p><code>arr.unshift(item…)</code><br>将一个或多个新元素添加到数组开始，数组中的元素自动后移，返回数组新长度。</p>
<p><code>arr.shift()</code><br>移除最前一个元素并返回该元素值，数组中元素自动前移.如果这个数组是空的，它会返回 undefined。shift 通常比 pop 慢的多。</p>
<h4 id="重排序方法-reverse-sort"><a href="#重排序方法-reverse-sort" class="headerlink" title="重排序方法 reverse, sort"></a><a href="#reverse-sort"></a>重排序方法 reverse, sort</h4><p><code>arr.reverse()</code><br>反转数组的顺序。</p>
<p><code>arr.sort(comparefn)</code><br>给数组排序，默认升序。</p>
<p>注意 sort 默认会将数组内容视为字符串来排序，所以对数字排序时默认的排序规则会错的离谱。一般我们给sort带入个比较函数来替代原来的默认的比较方法，比较方法接受两个参数，如果两个参数相等则返回0，如果第一个参数应该排在前面则返回一个负数，如果第二个参数应该排在前面则返回一个正数：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567</td>
<td>&#x2F;&#x2F;数组排序var arr &#x3D; [2,3,1,5,4]arr.sort(function(a, b) {    return a - b}) &#x2F;&#x2F; [1,2,3,4,5]</td>
</tr>
</tbody></table>
<h4 id="操作方法-concat-slice-splice-copyWithin-fill"><a href="#操作方法-concat-slice-splice-copyWithin-fill" class="headerlink" title="操作方法 concat, slice, splice, copyWithin, fill"></a><a href="#concat-slice-splice-copywithin-fill"></a>操作方法 concat, slice, splice, copyWithin, fill</h4><p><code>arr.concat(item…)</code><br>该方法产生一份 arr 的潜复制，并将多个数组（也可以是字符串，或者是数组和字符串的混合）附加在其后连接为一个数组，返回连接好的新的数组。</p>
<p><code>arr.slice(start, end)</code><br>该方法对数组中的一段做浅复制，首先复制数组 arr[start] 至 arr[end] 的部分，注意不包括 end 对应的元素，如果省略 end 将复制 start 之后的所有元素（或者理解成 end 的默认值为 arr.length）。字符串也有个同名方法 string.slice。</p>
<p><code>arr.splice(start, deleteCount, item…)</code><br>该方法从 arr 中移除一个或多个元素，并将新的 item 插入至移除元素的开始位置， 参数 start 是移除元素的开始位置，deleteCount 是要移除的元素的个数，item 是要被插入的元素。它返回一个包含被移除元素的数组。</p>
<p><code>arr.copyWithin(target, start, end)</code><br>该方法复制数组的一部分到同一数组中的另一个位置（会覆盖原成员），并返回修改后的数组。使用这个方法，会修改当前数组。参数 target 为开始替换数据的位置，若 target 大于等于 arr.length，将会不发生拷贝。start 是可选参数，为开始读取数据的位置，默认为0。end 是可选参数，为停止读取数据的位置，默认为 arr.length。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234</td>
<td>[1, 2, 3, 4, 5].copyWithin(0, 3)&#x2F;&#x2F; [4, 5, 3, 4, 5]</td>
</tr>
</tbody></table>
<p>上面代码表示将从3号位直到数组结束的成员（4和5），复制到从0号位开始的位置，结果覆盖了原来的1和2。</p>
<p><code>arr.fill(value, start, end)</code><br>该方法使用给定值填充一个数组，参数 value 是用来填充数组的值。start 是可选参数，为填充开始位置，默认为 0。end 是可选参数，为填充的结束位置，默认为 arr.length。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234</td>
<td>[1, 2, 3].fill(4)            &#x2F;&#x2F; [4, 4, 4][1, 2, 3].fill(4, 1 , 2)            &#x2F;&#x2F; [1, 4, 3]</td>
</tr>
</tbody></table>
<p>fill 方法是个可变方法, 它会改变调用它的 this 对象本身, 然后返回它, 而并不是返回一个副本。</p>
<h4 id="位置方法-indexOf-lastIndexOf-includes"><a href="#位置方法-indexOf-lastIndexOf-includes" class="headerlink" title="位置方法 indexOf, lastIndexOf, includes"></a><a href="#indexof-lastindexof-includes"></a>位置方法 indexOf, lastIndexOf, includes</h4><p><code>arr.indexOf(searchElement, start)</code><br>该方法返回要查找的项在数组中的位置，如果没找到返回 -1。接受两个参数，searchElement 是要查找的项，start 是查找起始位置的索引，默认是0。</p>
<p><code>arr.lastIndexOf(searchElement, start)</code><br>从 start 位置开始向前查找，start 默认值为 arr.length - 1。</p>
<p>注意该方法在比较查找项与数组中每一项时，会使用全等操作符，也就是要求查找的项必须严格相等。</p>
<p><code>arr.includes(searchElement, fromIndex)</code><br>该方法用来判断当前数组是否包含某指定的值，如果是，则返回 true，否则返回 false。参数 searchElement 为需要查找的元素值。参数 fromIndex 是可选参数，从该索引处开始查找 searchElement，如果为负值，则按升序从 array.length + fromIndex 的索引开始搜索，默认为 0。 如果fromIndex 大于等于数组长度 ，则返回 false 。该数组不会被搜索。<br>该方法属于ES7，但Babel转码器已经支持。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345</td>
<td>[1, 2, 3].includes(2);     &#x2F;&#x2F; true[1, 2, 3].includes(4);     &#x2F;&#x2F; false[1, 2, NaN].includes(NaN); &#x2F;&#x2F; true</td>
</tr>
</tbody></table>
<p>没有该方法之前，我们通常使用数组的indexOf方法，检查是否包含某个值。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345</td>
<td>if (arr.indexOf(el) !&#x3D;&#x3D; -1) {  &#x2F;&#x2F; …}</td>
</tr>
</tbody></table>
<p>indexOf方法有两个缺点，一是不够语义化，它的含义是找到参数值的第一个出现位置，所以要去比较是否不等于-1，表达起来不够直观。二是，它内部使用严格相当运算符（&#x3D;&#x3D;&#x3D;）进行判断，这会导致对NaN的误判。includes使用的是不一样的判断算法，就没有这个问题。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456</td>
<td>[NaN].indexOf(NaN)&#x2F;&#x2F; -1[NaN].includes(NaN)&#x2F;&#x2F; true</td>
</tr>
</tbody></table>
<p>includes() 方法有意设计为通用方法。它不要求this值是数组对象，所以它可以被用于其他类型的对象 (比如类数组对象)。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456</td>
<td>(function(){    console.log([].includes.call(arguments, 2)) &#x2F;&#x2F; true    console.log([].includes.call(arguments, 4)) &#x2F;&#x2F; false})(1,2,3)</td>
</tr>
</tbody></table>
<h4 id="迭代方法-every-some-filter-forEach-map-find-findIndex-entries-keys-values"><a href="#迭代方法-every-some-filter-forEach-map-find-findIndex-entries-keys-values" class="headerlink" title="迭代方法 every, some, filter, forEach, map, find, findIndex, entries, keys, values"></a><a href="#every-some-filter-foreach-map-find-findindex-entries-keys-values"></a>迭代方法 every, some, filter, forEach, map, find, findIndex, entries, keys, values</h4><p><code>arr.every(callback，thisArg)</code><br>对数组中的每一项运行给定函数，如果该函数对每一项都返回 true，则返回 true。callback 被调用时传入三个参数：元素值，元素的索引，原数组。thisArg 为可选参数，指定执行 callback 时使用的 this 值。</p>
<p><code>arr.some(callback, thisArg)</code><br>对数组中的每一项运行给定函数，如果该函数对任意一项返回 true，则返回 true。</p>
<p><code>arr.filter(callback, thisArg)</code><br>对数组中的每一项运行给定函数，返回该函数会返回 true 的项组成的数组。</p>
<p><code>arr.forEach(callback)</code><br>对数组中的每一项运行给定函数，这个方法没有返回值。本质上与使用 for 循环迭代数组一样。</p>
<p><code>arr.map(callback)</code><br>对数组中的每一项运行给定函数，返回每次函数调用组成的数组。</p>
<p><code>arr.find(callback, thisArg)</code><br>该方法对数组所有成员依次执行 callback 函数，直到找出第一个返回值为 true 的成员，然后返回该成员。如果没有符合条件的成员，则返回 undefined。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234</td>
<td>[1, 4, -5, 10].find((v, i, arr) &#x3D;&gt; v &lt; 0)&#x2F;&#x2F; -5</td>
</tr>
</tbody></table>
<p>find方法的回调函数可以接受三个参数，依次为当前的值、当前的位置和原数组</p>
<p><code>arr.findIndex(callback, thisArg)</code><br>该方法与 arr.find() 类似，对数组中的成员依次执行 callback 函数，直至照吃第一个返回值为 true 的成员，然后返回该成员的索引。如果没有符合条件的成员，则返回 -1。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456</td>
<td>[1, 5, 10, 15].findIndex((v, i , arr)&#x3D;&gt;{    return v &gt; 9})&#x2F;&#x2F;2</td>
</tr>
</tbody></table>
<p><code>arr.entries()</code><br><code>arr.keys()</code><br><code>arr.values()</code></p>
<p>这三个方法都返回一个新的Array Iterator对象，可以用<code>for...of</code>循环进行遍历，区别是<code>keys()</code>是对键名的遍历、<code>values()</code>是对键值的遍历，<code>entries()</code>是对键值对的遍历。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456789101112131415161718192021</td>
<td>for (let index of [‘a’, ‘b’].keys()) { console.log(index); }&#x2F;&#x2F; 0&#x2F;&#x2F; 1 for (let elem of [‘a’, ‘b’].values()) { console.log(elem) ;}&#x2F;&#x2F; ‘a’&#x2F;&#x2F; ‘b’ for (let [index, elem] of [‘a’, ‘b’].entries()) { console.log(index, elem);}&#x2F;&#x2F; 0 “a”&#x2F;&#x2F; 1 “b” var arr &#x3D; [“a”, “b”;var iterator &#x3D; arr.entries(); &#x2F;&#x2F; undefined console.log(iterator); &#x2F;&#x2F; Array Iterator {} console.log(iterator.next().value);  &#x2F;&#x2F; [0, “a”]console.log(iterator.next().value);  &#x2F;&#x2F; [1, “b”]</td>
</tr>
</tbody></table>
<h4 id="归并方法-reduce-reduceRight"><a href="#归并方法-reduce-reduceRight" class="headerlink" title="归并方法 reduce, reduceRight"></a><a href="#reduce-reduceright"></a>归并方法 reduce, reduceRight</h4><p><code>arr.reduce(callback, initialValue)</code><br><code>arr.reduceRight(callback, initialValue)</code></p>
<p>这个两个方法都会迭代数组所有的项，然后返回一个最终值。reduce()方法从数组的第一项开始，逐个遍历到最后，而reduceRight()则从数组的最后一项开始，向前遍历到第一项。它们接受两个参数，callback 每一项上调用的函数，callback 被调用时传入四个参数：上一次调用回调返回的值、正在处理的元素、正在处理的元素的索引值（如果提供了 initialValue ，从0开始；否则从1开始）、原数组。initialValue 是可选项，作为归并基础的初始值，其值用于第一次调用 callback 的第一个参数。</p>
<hr>
<h2 id="数组常见问题练习"><a href="#数组常见问题练习" class="headerlink" title="数组常见问题练习"></a><a href="#_9"></a>数组常见问题练习</h2><h3 id="数组合并"><a href="#数组合并" class="headerlink" title="数组合并"></a><a href="#_10"></a>数组合并</h3><h4 id="多个一维数组合并"><a href="#多个一维数组合并" class="headerlink" title="多个一维数组合并"></a><a href="#_11"></a>多个一维数组合并</h4><p>如有两个一维数组，要将他们合并成一个数组:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456</td>
<td>var arr1 &#x3D; [1, 2]var arr2 &#x3D; [3, 4] &#x2F;&#x2F; &#x3D;&gt; [1,2,3,4]</td>
</tr>
</tbody></table>
<p><code>Array.prototype.concat()方法</code></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123</td>
<td>var arr &#x3D; arr1.concat(arr2) &#x2F;&#x2F;[1, 2, 3, 4]</td>
</tr>
</tbody></table>
<p><code>for循环和Array.prototype.push()</code></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678</td>
<td>function flation(arr1, arr2) {    for (var i &#x3D; 0; i &lt; arr2.length; i++) {        arr1.push(arr2[i])    }    return arr1}</td>
</tr>
</tbody></table>
<p><code>reduce()或reduceRight()方法</code></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456789</td>
<td>function flatten(arr1, arr2) {    return arr2.reduce(function (prev, curr) {        prev.push(curr)        return prev    }, arr1)}</td>
</tr>
</tbody></table>
<h4 id="多维（复合）数组合并成一维数组"><a href="#多维（复合）数组合并成一维数组" class="headerlink" title="多维（复合）数组合并成一维数组"></a><a href="#_12"></a>多维（复合）数组合并成一维数组</h4><p>例如有这么一组多维数组，要把它拍平成1维数组：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345</td>
<td>var myArray &#x3D; [[1, 2], [3, 4, 5], [6, 7, 8, 9], [11,12,[12,13,[14]]], 10, 11]; &#x2F;&#x2F; &#x3D;&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10, 11]</td>
</tr>
</tbody></table>
<p><code>Array.prototype.push()方法</code></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567891011121314151617</td>
<td>function flatten(arr, result) {    if (!result) {        result &#x3D; []    }    for (var i &#x3D; 0; i &lt; arr.length; i++) {        if(arr[i].constructor &#x3D;&#x3D; Array) {            flatten(arr[i], r)        } else {            result.push(arr[i])        }    }    return result}flatten([[1, 2], [3, 4, 5], [6, 7, 8, 9], [11,12,[12,13,[14]]], 10, 11])&#x2F;&#x2F;[1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10, 11]</td>
</tr>
</tbody></table>
<p><code>Array.prototype.concat()方法</code></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456789101112</td>
<td>&#x2F;&#x2F;省略对二维以上数组的判断function flatten(arr) {    var result &#x3D; []    for (var i &#x3D; 0; i &lt; arr.length; i++) {        result &#x3D; result.concat(arr[i])    }    return result}flatten([[1, 2],[3, 4, 5], [6, 7, 8, 9]]);&#x2F;&#x2F;[1, 2, 3, 4, 5, 6, 7, 8, 9]flatten([[1, 2],[3, 4, 5], [6, 7, 8, 9],10,11]);&#x2F;&#x2F;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]</td>
</tr>
</tbody></table>
<p>可以通过Function.prototype.apply()方法，让其变得更简单:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456</td>
<td>&#x2F;&#x2F;省略对二维以上数组的判断function flatten(arr) {    return Array.prototype.concat.apply([], arr)}</td>
</tr>
</tbody></table>
<p>还可以将上面方法做个精简：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456</td>
<td>&#x2F;&#x2F;省略对二维以上数组的判断function flatten(arr) {    return [].concat.apply([], arr)}</td>
</tr>
</tbody></table>
<p>在 ES6 中，还可以这样写：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456</td>
<td>&#x2F;&#x2F;省略对二维以上数组的判断function flatten(arr) {    return [].concat(…arr)}</td>
</tr>
</tbody></table>
<p>如果要处理三维或更多维数组，则需要加一些判断：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678</td>
<td>function flatten(arr) {    arr &#x3D; [].concat.apply([], arr)    return arr.some(Array.isArray) ? flatten(arr) : arr}flatten([[1, 2], [3, 4, 5], [6, 7, 8, 9], [11,12,[12,13,[14]]], 10, 11])&#x2F;&#x2F;[1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10, 11]</td>
</tr>
</tbody></table>
<p>或者：<br>function flatten(arr) {<br>var isArray &#x3D; Object.prototype.toString.call(arr) &#x3D;&#x3D; ‘[object Array]’;</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456789</td>
<td>if (isArray &amp;&amp; arr.length &gt; 0) {    var head &#x3D; arr[0]    var tail &#x3D; arr.slice(1)    return flatten(head).concat(flatten(tail));} else {    return [].concat(arr)}</td>
</tr>
</tbody></table>
<p>}</p>
<p><code>使用join()和split()</code><br>利用数组实例的<code>join()</code>方法和字符串实例的<code>split()</code>方法，也可以将多维数组拍平：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567</td>
<td>function flatten(arr) {    return arr.join(‘,’).split(‘,’)}flatten([[1, 2], [3, 4, 5], [6, 7, 8, 9], [11,12,[12,13,[14]]], 10, 11])&#x2F;&#x2F;[“1”, “2”, “3”, “4”, “5”, “6”, “7”, “8”, “9”, “11”, “12”, “12”, “13”, “14”, “10”, “11”]</td>
</tr>
</tbody></table>
<p>这种方法的缺点在于返回的数组内全是字符串，如果不需要校验内容类型的话，可以使用这种方法。</p>
<hr>
<h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a><a href="#_13"></a>数组去重</h3><h4 id="双重循环去重"><a href="#双重循环去重" class="headerlink" title="双重循环去重"></a><a href="#_14"></a>双重循环去重</h4><p>思路：</p>
<ul>
<li>构建一个空数组来存放去重后的数组</li>
<li>对原数组做循环遍历，每次从数组中取出一个元素与结果数组做对比</li>
<li>如果原数组取出的元素与结果数组元素相同，则跳出循环；反之则将其存放到结果数组</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456789101112131415161718192021</td>
<td>function unique(arr) {    var result &#x3D; [arr[0]]    for (var i &#x3D; 1; i &lt; arr.length; i++) {        var repeat &#x3D; false        for (var j &#x3D; 0; j &lt; result.length; j++) {            if (arr[i] &#x3D;&#x3D; result[j]) {                repeat &#x3D; true                break;            }        }        if (!repeat) {            result.push(arr[i])        }    }    return result} unique([1, 2, 3, 4, 3, 2, ‘a’, ‘b’, ‘a’]);&#x2F;&#x2F;[1, 2, 3, 4, “a”, “b”]</td>
</tr>
</tbody></table>
<p>这种方法也可采用<code>forEach()</code>方法和<code>indexOf()</code>方法模拟实现：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678910111213</td>
<td>function unique(arr) {    var result &#x3D; [arr[0]]    arr.forEach(function(v) {        if (result.indexOf(v) &#x3D;&#x3D; -1) {  &#x2F;&#x2F;这里 indexOf()也可替换为es7的includes()            result.push(v)        }    })    return result}unique([1, 2, 3, 4, 3, 2, ‘a’, ‘b’, ‘a’]);&#x2F;&#x2F;[1, 2, 3, 4, “a”, “b”]</td>
</tr>
</tbody></table>
<h4 id="排序遍历去重"><a href="#排序遍历去重" class="headerlink" title="排序遍历去重"></a><a href="#_15"></a>排序遍历去重</h4><p>思路：</p>
<ul>
<li>构建一个空数组来存放去重后的数组</li>
<li>用<code>sort()</code>方法对原数组做一个排序，排完序后对数组做遍历，检查数组中第 i 个元素与结果数组中最后一个元素是否相同，如果不同，则放到结果数组中。</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678910111213</td>
<td>function unique(arr) {    arr.sort();    var result &#x3D; []    for (var i &#x3D; 0; i &lt; arr.length; i++) {        if (arr[i] !&#x3D;&#x3D; result[result.length - 1]) {            result.push(arr[i])        }    }    return result}unique([1, 2, 3, 4, 3, 2, ‘a’, ‘b’, ‘a’]);</td>
</tr>
</tbody></table>
<p>这种方法有两个特色：</p>
<ul>
<li>去重后的数组会做排序，主要是因为原数在去重前做了排序</li>
<li>去重后的数组，与数字相同的数字字符无法区分，比如‘1’和1</li>
</ul>
<h4 id="对象键值对法"><a href="#对象键值对法" class="headerlink" title="对象键值对法"></a><a href="#_16"></a>对象键值对法</h4><p>思路：</p>
<ul>
<li>创建一个 js 对象及新数组</li>
<li>遍历原数组，每次取出一个元素与 js 对象的键作对比</li>
<li>如果不包含，将存入对象的元素的值推入到结果数组中，并将 object 对象中该属性名的值设为1</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456789101112131415</td>
<td>function unique(arr) {    var result &#x3D; []    var object &#x3D; {}    for (var i &#x3D; 0; i &lt; arr.length; i++) {        if (!object[typeof(arr[i]) + arr[i]]) {  &#x2F;&#x2F;键名里加入typeof(arr[i])是为了区别不同类型的值，如1和`1`            result.push(arr[i])            object[typeof(arr[i]) + arr[i]] &#x3D; 1        }    }    return result}unique([1, 2, 3, 4, 3, 2, ‘1’, ‘a’, ‘b’, ‘a’]);&#x2F;&#x2F;[1, 2, 3, 4, “a”, “b”]</td>
</tr>
</tbody></table>
<p>这种方法比较耗内存，但运行下来耗时最少，是较为优秀的方案。</p>
<h4 id="使用-ES6-的-Set-和-Map-方法"><a href="#使用-ES6-的-Set-和-Map-方法" class="headerlink" title="使用 ES6 的 Set 和 Map 方法"></a><a href="#es6-set-map"></a>使用 ES6 的 Set 和 Map 方法</h4><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456789101112131415</td>
<td>&#x2F;&#x2F;借助 Map 数据结构function unique(arr) {    const seen &#x3D; new Map()    return arr.filter((v)&#x3D;&gt; !seen.has(v) &amp;&amp; seen.set(v, 1));} &#x2F;&#x2F;借助 Set 数据结构function unique(arr) {    return Array.from(new Set(arr)) &#x2F;&#x2F;或 return […new Set(arr)]} unique([1, 2, 3, 4, 3, 2, ‘1’, ‘a’, ‘b’, ‘a’]);&#x2F;&#x2F;[1, 2, 3, 4, “1”, “a”, “b”]</td>
</tr>
</tbody></table>
<hr>
<h3 id="数组随机排序"><a href="#数组随机排序" class="headerlink" title="数组随机排序"></a><a href="#_17"></a>数组随机排序</h3><h4 id="递归的方法"><a href="#递归的方法" class="headerlink" title="递归的方法"></a><a href="#_18"></a>递归的方法</h4><p>思路：<br>不断从原数组中随机取一个元素放进新数组，同时删除原数组中该值，递归重复至全部取出。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567891011121314151617</td>
<td>function randomSort(arr, newArr) {    var newArr &#x3D; newArr || []    if (arr.length &#x3D;&#x3D; 1) {        newArr.push(arr[0])        return newArr; &#x2F;&#x2F; 相当于递归退出    }     var random &#x3D; Math.ceil(Math.random() * arr.length) - 1    newArr.push(arr[random])    arr.splice(random, 1)     return randomSort(arr, newArr)}randomSort([1, 2, 3, 4, 5, 6, 7]); &#x2F;&#x2F;[2, 3, 1, 5, 6, 7, 4]randomSort([1, 2, 3, 4, 5, 6, 7]); &#x2F;&#x2F;[3, 4, 2, 5, 1, 6, 7]</td>
</tr>
</tbody></table>
<h4 id="使用数组-sort-方法对数组元素随机排序（效果不佳）"><a href="#使用数组-sort-方法对数组元素随机排序（效果不佳）" class="headerlink" title="使用数组 sort 方法对数组元素随机排序（效果不佳）"></a><a href="#sort"></a>使用数组 sort 方法对数组元素随机排序（效果不佳）</h4><p>思路：<br>使用<code>srot()</code>每次比较时返回一个随机值，让数组内元素依次前后随机排序</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567891011</td>
<td>Array.prototype.shuffle &#x3D; function(n) {    var len &#x3D; this.length, num &#x3D; n ? Math.min(n, len) : len, arr &#x3D; this.slice(0)    arr.sort(function(a, b){        return Math.random() - 0.5    })    return arr.slice(0, num)}[1, 2, 3, 4, 5, 6, 7].shuffle()&#x2F;&#x2F;[1, 4, 2, 5, 6, 3, 7]</td>
</tr>
</tbody></table>
<p>这个方法虽然实现了随机排序，但由于<code>sort()</code>方法是依次比较的，所以每个元素被随机到原位置后面的概率会越来越低。</p>
<h4 id="随机交换数组内的元素-原理from-underscore-js）"><a href="#随机交换数组内的元素-原理from-underscore-js）" class="headerlink" title="随机交换数组内的元素 (原理from underscore.js）"></a><a href="#from-underscorejs"></a>随机交换数组内的元素 (原理from underscore.js）</h4><p>思路：<br>遍历数组，每次从i位置后元素随机挑一个放到i位置，将原i位置元素放至被挑元素原位置</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567891011121314</td>
<td>Array.prototype.shuffle &#x3D; function() {    var len &#x3D; this.length,        arr &#x3D; this.slice(0),        temp, index;    for (var i &#x3D; 0; i &lt; len; i++) {        index &#x3D; i + Math.floor(Math.random() * (len - i))        temp &#x3D; arr[i]        arr[i] &#x3D; arr[index]        arr[index] &#x3D; temp    }    return arr.slice(0)}</td>
</tr>
</tbody></table>
<h4 id="随机从原数组抽取一个元素-加入到新数组"><a href="#随机从原数组抽取一个元素-加入到新数组" class="headerlink" title="随机从原数组抽取一个元素,加入到新数组"></a><a href="#_19"></a>随机从原数组抽取一个元素,加入到新数组</h4><p>思路：<br>遍历数组，每次从数组中随机挑一个元素（随机数最大值为原数组剩余长度），将该元素拿出来放入新数组。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678910111213141516</td>
<td>Array.prototype.shuffle &#x3D; function() {    var len &#x3D; this.length,        arr &#x3D; this.slice(0),        result &#x3D; [],        index;    for (var i &#x3D; 0; i &lt; len; i++) {        index &#x3D; Math.floor(Math.random() * (len - i))        console.log(index)        result.push(arr.splice(index, 1)[0])    }    return result}[1, 2, 3, 4, 5, 6, 7].shuffle()&#x2F;&#x2F;[5, 3, 2, 1, 7, 4, 6]</td>
</tr>
</tbody></table>
<hr>
<h3 id="取数组中最大值最小值"><a href="#取数组中最大值最小值" class="headerlink" title="取数组中最大值最小值"></a><a href="#_20"></a>取数组中最大值最小值</h3><h4 id="遍历比较方法"><a href="#遍历比较方法" class="headerlink" title="遍历比较方法"></a><a href="#_21"></a>遍历比较方法</h4><p>思路：</p>
<ul>
<li>设一个变量存放最大值，将数组中第一个值赋值给该变量</li>
<li>遍历数组与最大值变量比较，如果大于最大值，则将该值赋值最大值变量</li>
<li>遍历结束后，变量里储存的就是数组里的最大值</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678910</td>
<td>Array.prototype.max &#x3D; function() {    var max &#x3D; this[0]    this.forEach(function(v) {        if (v &gt; max) {max &#x3D; v}    })    return max}[1,45,23,3,6,2,7,234,56].max() &#x2F;&#x2F; 234</td>
</tr>
</tbody></table>
<h4 id="归并比较方法"><a href="#归并比较方法" class="headerlink" title="归并比较方法"></a><a href="#_22"></a>归并比较方法</h4><p>思路：</p>
<ul>
<li>使用数组实例的 reduce(function(prev, curv, index, arr)) 方法</li>
<li>依次比较回调函数中参数 prev 与 curv 的大小，返回大的那个</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678</td>
<td>Array.prototype.max &#x3D; function() {    return this.reduce(function(prev, curv) {        return prev &gt; curv ? prev : curv    })}[1,45,23,3,6,2,7,234,56].max() &#x2F;&#x2F; 234</td>
</tr>
</tbody></table>
<h4 id="利用-Math-max-与-Math-min-方法"><a href="#利用-Math-max-与-Math-min-方法" class="headerlink" title="利用 Math.max() 与 Math.min() 方法"></a><a href="#mathmax-mathmin"></a>利用 Math.max() 与 Math.min() 方法</h4><p>思路：<br>将数组转换成参数传进<code>Math.max()</code>或<code>Math.min()</code>。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456</td>
<td>Array.prototype.max &#x3D; function() {    return Math.max.apply({},this) &#x2F;&#x2F;或 return Math.max(…this)}[1,45,23,3,6,2,7,234,56].max() &#x2F;&#x2F; 234</td>
</tr>
</tbody></table>
<hr>
<h3 id="将一个数按大小顺序插入数组并返回索引值"><a href="#将一个数按大小顺序插入数组并返回索引值" class="headerlink" title="将一个数按大小顺序插入数组并返回索引值"></a><a href="#_23"></a>将一个数按大小顺序插入数组并返回索引值</h3><p>任务：<br>构建一个函数where(arr, num)，函数接受两个参数，一个是数组arr，一个是要插进数组的数字num，函数将num按大小顺序插进arr，并返回num的索引值。例如：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345</td>
<td>where([1,2,3,4], 1.5) &#x2F;&#x2F;1where([20,3,5],19) &#x2F;&#x2F;2where([40,60],50) &#x2F;&#x2F;1</td>
</tr>
</tbody></table>
<h4 id="使用-push-sort-indexOf-方法"><a href="#使用-push-sort-indexOf-方法" class="headerlink" title="使用 push + sort + indexOf 方法"></a><a href="#push-sort-indexof"></a>使用 push + sort + indexOf 方法</h4><p>思路：</p>
<ul>
<li>通过<code>push()</code>或<code>unshift()</code>方法将 num 插入 arr</li>
<li>使用<code>sort()</code>对 arr 进行排序</li>
<li>使用<code>indexOf()</code>找出 num 在 arr 中的 index（或使用for、forEach、some循环）</li>
<li>返回 index</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456789101112</td>
<td>function where(arr, num) {    arr.push(num)    arr.sort(function(a,b){        return a - b    })     return arr.indexOf(num)}var a &#x3D; [1,2,3,4]where(a, 1,5) &#x2F;&#x2F;1, a &#x3D; [1,1.5,2,3,4]</td>
</tr>
</tbody></table>
<p>或者：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>12345678910111213141516171819</td>
<td>function where(arr, num) {    arr.push(num)    arr.sort(function(a,b){        return a - b    })     var index;    arr.some(function(v,i) {        if(v &#x3D;&#x3D;&#x3D; num) {            index &#x3D; i            return true        }    })    return index}var a &#x3D; [1,2,3,4]where(a, 1,5) &#x2F;&#x2F;1, a &#x3D; [1,1.5,2,3,4]</td>
</tr>
</tbody></table>
<h4 id="使用-sort-findIndex-splice-方法"><a href="#使用-sort-findIndex-splice-方法" class="headerlink" title="使用 sort + findIndex + splice 方法"></a><a href="#sort-findindex-splice"></a>使用 sort + findIndex + splice 方法</h4><p>思路：</p>
<ul>
<li>使用<code>sort()</code>对 arr 进行排序</li>
<li>使用 findIndex() 找出 arr 中第一个大于 num 的元素的位置</li>
<li>使用 <code>splice()</code> 将 num 插入该元素前</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567891011</td>
<td>function where(arr, num) {    arr.sort((a,b) &#x3D;&gt; a-b)    const index &#x3D; arr.findIndex(v &#x3D;&gt; v &gt; num)    arr.splice(index,0,num)    return index} var a &#x3D; [1,2,3,4]where(a, 1,5) &#x2F;&#x2F;1, a &#x3D; [1,1.5,2,3,4]</td>
</tr>
</tbody></table>
<hr>
<h3 id="从数组中寻找元素并删除元素"><a href="#从数组中寻找元素并删除元素" class="headerlink" title="从数组中寻找元素并删除元素"></a><a href="#_24"></a>从数组中寻找元素并删除元素</h3><p>任务：<br>构建一个函数destroyer(arr, item…)，传入数组与要删除的指定值，返回删除指定值后的数组，例如：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123</td>
<td>destroyer([1,2,3,4,1,3,2],1,2) &#x2F;&#x2F;[3,4,3]</td>
</tr>
</tbody></table>
<h4 id="arguments-indexOf-filter-遍历判断法"><a href="#arguments-indexOf-filter-遍历判断法" class="headerlink" title="arguments + indexOf + filter 遍历判断法"></a><a href="#arguments-indexof-filter"></a>arguments + indexOf + filter 遍历判断法</h4><p>思路：</p>
<ul>
<li>通过 arguements 对象分别获取到数组 arr 和指定要删除的元素，将指定元素转换成数组 removeArgs</li>
<li>使用<code>filter()</code>筛选出 arr 内与 removeArgs 内不相同的元素，筛选规则通过<code>indexOf()</code>方法判断</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>123456789101112131415161718</td>
<td>function destroyer(para) {    var arr &#x3D; arguments[0]    var removeArgs &#x3D; []     for(var i &#x3D; 1; i &lt; arguments.length; i++) {        removeArgs.push(arguments[i])    }     var isFalse &#x3D; function(v) {        return removeArgs.indexOf(v) &#x3D;&#x3D;&#x3D; -1    }     return arr.filter(isFalse)} destroyer([1,2,3,4,1,3,2],1,2) &#x2F;&#x2F;[3,4,3]</td>
</tr>
</tbody></table>
<h4 id="slice-或解构运算符-es6-set-filter-方法"><a href="#slice-或解构运算符-es6-set-filter-方法" class="headerlink" title="slice(或解构运算符) + es6 set + filter 方法"></a><a href="#slice-es6-set-filter"></a>slice(或解构运算符) + es6 set + filter 方法</h4><p>思路：</p>
<ul>
<li>利用<code>call()</code>对 arguments 使用数组的<code>slice()</code>分别获取到原数组和指定值</li>
<li>将指定值传进 new Set 对象</li>
<li>使用<code>filter()</code>筛选出 arr 内与 set 对象内不相同的元素，筛选规则通过 set 对象的<code>has()</code>方法判断</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567</td>
<td>function destroyer(para) {    var removeArgs &#x3D; new Set(Array.prototype.slice.call(arguments, 1))    return para.filter(v &#x3D;&gt; !removeArgs.has(v))}destroyer([1,2,3,4,1,3,2],1,2) &#x2F;&#x2F;[3,4,3]</td>
</tr>
</tbody></table>
<p>也可以写成：</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1234567</td>
<td>function destroyer(arr, …items) {    var removeArgs &#x3D; new Set(items)    return arr.filter(v &#x3D;&gt; !removeArgs.has(v))}destroyer([1,2,3,4,1,3,2],1,2) &#x2F;&#x2F;[3,4,3]</td>
</tr>
</tbody></table>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Alan Work</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://5soros.github.io/2025/02/15/js-shu-zu-ji-chu/">https://5soros.github.io/2025/02/15/js-shu-zu-ji-chu/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Alan Work</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/JS/">
                                    <span class="chip bg-color">JS</span>
                                </a>
                            
                                <a href="/tags/CSS/">
                                    <span class="chip bg-color">CSS</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2025/03/25/cs-fan-kong-jing-ying-de-di-tu-ming-zi-de-qian-zhui-ru-gg-de-he-deng-dai-biao-shi-me-yi-si/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/22.jpg" class="responsive-img" alt="CS反恐精英的地图名字的前缀，如：gg, de, he，等，代表什么意思？">
                        
                        <span class="card-title">CS反恐精英的地图名字的前缀，如：gg, de, he，等，代表什么意思？</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2025-03-25
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/web%E5%89%8D%E7%AB%AF/" class="post-category">
                                    web前端
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/CS/">
                        <span class="chip bg-color">CS</span>
                    </a>
                    
                    <a href="/tags/%E5%8F%8D%E6%81%90%E7%B2%BE%E8%8B%B1/">
                        <span class="chip bg-color">反恐精英</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2025/02/15/jie-xi-gsb-dai-ma/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/1.jpg" class="responsive-img" alt="解析gsb代码">
                        
                        <span class="card-title">解析gsb代码</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2025-02-15
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%A0%81%E6%B5%B7%E6%97%A0%E6%B6%AF/" class="post-category">
                                    码海无涯
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/JS/">
                        <span class="chip bg-color">JS</span>
                    </a>
                    
                    <a href="/tags/CSS/">
                        <span class="chip bg-color">CSS</span>
                    </a>
                    
                    <a href="/tags/%E7%A0%81%E6%B5%B7%E6%97%A0%E6%B6%AF/">
                        <span class="chip bg-color">码海无涯</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2023-2025</span>
            
            <span id="year">2023</span>
            <a href="/about" target="_blank">Alan Work</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">128.8k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2023";
                    var startMonth = "10";
                    var startDate = "14";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">














    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
